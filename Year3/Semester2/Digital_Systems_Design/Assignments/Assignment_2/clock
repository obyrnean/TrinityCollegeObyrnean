
`timescale 1ns / 1ps

module clock(
    input CCLK,
    input [31:0] clkscale,
    output reg clk
    );
    //CCLK crystal clock oscillator 100MHz
    reg [31:0] clkq = 0; // Clock register, initial value of 0
    always @(posedge CCLK)
     begin
        clkq = clkq + 1;  //increment clock register
         if (clkq >= clkscale)   //clock scaling
         // only change clock value if it is >= the scaling parameter
           begin
              clk = ~clk; //output clock
              clkq = 0;  // reset clock register
           end
      end
endmodule
